# yaml-language-server: $schema=https://gist.githubusercontent.com/Jaid/1196746806dc7be1eaa7783e4d7b388a/raw/extension_manifest.schema.json#properties/contributes
commands:
- command: export-for-ai-chat.copyToClipboard
  title: Copy for AI chat
menus:
  explorer/context:
  - command: export-for-ai-chat.copyToClipboard
    group: 5_cutcopypaste
  editor/context:
  - command: export-for-ai-chat.copyToClipboard
    group: 9_cutcopypaste
configuration:
  title: Export for AI chat
  properties:
    export-for-ai-chat.template:
      type: string
      default: '{{#each items}}{{#if fileRelative}}.e/{{fileRelative}}{{blankLine}}{{/if}}{{fence code}}{{#if language.codeBlockId}}{{language.codeBlockId}}{{else}}{{languageId}}{{/if}}{{newLine}}{{trim code}}{{newLine}}{{fence code}}{{#unless @last}}{{blankLine}}{{/unless}}{{/each}}'
      description: Handlebars template for the AI chat prompt. Available variables are workspace, workspaceFolder, items. Each item in items has properties code, file, fileName, fileRelative, folder, folderName, folderRelative, isWholeFile, language, languageId. Available helpers are blankLine, newLine, trim, fence, escapeFences, isMultiple, json.
      markdownDescription: Handlebars template for the AI chat prompt. Available variables are `workspace`, `workspaceFolder`, `items` (array of context items). Each item in `items` has properties `code`, `file`, `fileName`, `fileRelative`, `folder`, `folderName`, `folderRelative`, `isWholeFile`, `language`, `languageId`. Available helpers are `blankLine`, `newLine`, `trim`, `fence`, `escapeFences`, `isMultiple`, `json`.
      editPresentation: multilineText
    export-for-ai-chat.showNotifications:
      type: boolean
      default: true
      description: Show notifications after copying code to clipboard
    export-for-ai-chat.tokenizer:
      type:
      - string
      - boolean
      enum:
      - o200k_base
      - false
      default: o200k_base
      description: Tokenizer to use for counting tokens in the notification. Set to false to disable token counting.
      markdownDescription: Tokenizer to use for counting tokens in the notification. Set to `false` to disable token counting. Uses [o200k_base](https://github.com/dqbd/tiktoken/blob/main/js/README.md) tokenizer.
    export-for-ai-chat.blacklistExpression:
      type: string
      default: /[\/\\](node_modules|\.git)[\/\\]/.test(fullPath) || (isFile && /\.(png|jpg|jpeg|gif|webp|jxl|woff|woff2|ttf|mp4|mp3|pdf|zip|tar|gz)$/i.test(fullPath))
      description: JavaScript expression to skip files and folders when traversing a folder with access to variables fullPath, isFile and isFolder. Return true to exclude the item.
      markdownDescription: JavaScript expression to skip files and folders when traversing a folder with access to variables `fullPath`, `isFile` and `isFolder`. Return `true` to exclude the item.
      editPresentation: multilineText
